<<-DOC
Given a binary tree t, determine whether it is symmetric around its center,
i.e. each side mirrors the other.

Example

For

t = {
    "value": 1,
    "left": {
        "value": 2,
        "left": {
            "value": 3,
            "left": nil,
            "right": nil
        },
        "right": {
            "value": 4,
            "left": nil,
            "right": nil
        }
    },
    "right": {
        "value": 2,
        "left": {
            "value": 4,
            "left": nil,
            "right": nil
        },
        "right": {
            "value": 3,
            "left": nil,
            "right": nil
        }
    }
}
the output should be isTreeSymmetric(t) = true.

Here's what the tree in this example looks like:

    1
   / \
  2   2
 / \ / \
3  4 4  3
As you can see, it is symmetric.

For

t = {
    "value": 1,
    "left": {
        "value": 2,
        "left": nil,
        "right": {
            "value": 3,
            "left": nil,
            "right": nil
        }
    },
    "right": {
        "value": 2,
        "left": nil,
        "right": {
            "value": 3,
            "left": nil,
            "right": nil
        }
    }
}
the output should be isTreeSymmetric(t) = false.

Here's what the tree in this example looks like:

    1
   / \
  2   2
   \   \
   3    3
As you can see, it is not symmetric.

Input/Output

[time limit] 4000ms (rb)
[input] tree.integer t

A binary tree of integers.

Guaranteed constraints:
0 ≤ tree size < 5 · 104,
-1000 ≤ node value ≤ 1000.

[output] boolean

Return true if t is symmetric and false otherwise.
DOC

describe "#symmetric?" do
<<-DOC
    1
   / \
  2   2
 / \ / \
3  4 4  3

    1
   /
  2
 / \
3  4

    1
     \
      1
DOC

  def symmetric_array?(items)
    head, tail = 0, items.size - 1

    until head >= tail
      return false if items[head] != items[tail]

      head += 1
      tail -= 1
    end
    true
  end

  def leaf?(node)
    return true if node.nil?
    node.left.nil? && node.right.nil?
  end

<<-DOC
    1
   / \
  2   3
 /   /
3    2
DOC
  def symmetric?(tree)
    level, visited, queue, values_in_level = 0, 0, [tree], []

    until queue.empty?
      node = queue.shift
      values_in_level.push(node&.value)
      visited += 1
      max_per_level = (2**level)

      if visited == max_per_level
        return false unless symmetric_array?(values_in_level)

        level += 1
        visited, values_in_level = 0, []
      end

      unless leaf?(node)
        queue.push(node.left)
        queue.push(node.right)
      end
    end

    true
  end

  [
    { t: { value: 1, left: { value: 2, left: { value: 3, left: nil, right: nil }, right: { value: 4, left: nil, right: nil } }, right: { value: 2, left: { value: 4, left: nil, right: nil }, right: { value: 3, left: nil, right: nil } } }, x: true },
    { t: { value: 1, left: { value: 2, left: nil, right: { value: 3, left: nil, right: nil } }, right: { value: 2, left: nil, right: { value: 3, left: nil, right: nil } } }, x: false },
    { t: nil, x: true },
    { t: { value: 1, left: nil, right: nil }, x: true },
    { t: { value: 100, left: nil, right: { value: 100, left: nil, right: nil } }, x: false },
    { t: { value: 100, left: { value: 100, left: nil, right: nil }, right: nil }, x: false },
    { t: { value: 99, left: { value: 100, left: nil, right: nil }, right: { value: 99, left: nil, right: nil } }, x: false },
    { t: { value: 1, left: { value: 2, left: { value: 3, left: nil, right: nil }, right: nil }, right: { value: 3, left: { value: 2, left: nil, right: nil }, right: nil } }, x: false },
    { t: { "value": -191, "left": { "value": 374, "left": { "value": -361, "left": { "value": -771, "left": nil, "right": { "value": -379, "left": { "value": -154, "left": nil, "right": nil }, "right": { "value": -699, "left": nil, "right": nil } } }, "right": { "value": 159, "left": { "value": -900, "left": { "value": 305, "left": nil, "right": nil }, "right": { "value": -486, "left": nil, "right": nil } }, "right": { "value": 200, "left": { "value": -699, "left": nil, "right": nil }, "right": { "value": 470, "left": nil, "right": nil } } } }, "right": nil }, "right": { "value": 374, "left": nil, "right": { "value": -361, "left": { "value": 159, "left": { "value": 200, "left": { "value": 470, "left": nil, "right": nil }, "right": { "value": -699, "left": nil, "right": nil } }, "right": { "value": -900, "left": { "value": -486, "left": nil, "right": nil }, "right": { "value": 305, "left": nil, "right": nil } } }, "right": { "value": -771, "left": { "value": -379, "left": { "value": -699, "left": nil, "right": nil }, "right": { "value": -154, "left": nil, "right": nil } }, "right": nil } } } }, x: true },
    { t: { "value": -883, "left": { "value": -382, "left": { "value": 229, "left": { "value": -835, "left": { "value": -702, "left": { "value": 800, "left": null, "right": null }, "right": { "value": 1000, "left": null, "right": null } }, "right": { "value": 609, "left": { "value": -261, "left": null, "right": null }, "right": { "value": -967, "left": null, "right": null } } }, "right": { "value": -793, "left": { "value": 889, "left": { "value": -367, "left": null, "right": null }, "right": { "value": 748, "left": null, "right": null } }, "right": null } }, "right": { "value": 493, "left": { "value": 424, "left": null, "right": null }, "right": { "value": 93, "left": { "value": -724, "left": { "value": -870, "left": null, "right": null }, "right": { "value": -12, "left": null, "right": null } }, "right": { "value": 212, "left": { "value": -482, "left": null, "right": null }, "right": null } } } }, "right": { "value": -382, "left": { "value": 493, "left": { "value": 93, "left": { "value": 212, "left": null, "right": { "value": -482, "left": null, "right": null } }, "right": { "value": -724, "left": { "value": -12, "left": null, "right": null }, "right": { "value": -870, "left": null, "right": null } } }, "right": { "value": 424, "left": null, "right": null } }, "right": { "value": 229, "left": { "value": -793, "left": null, "right": { "value": 889, "left": { "value": 748, "left": null, "right": null }, "right": { "value": -367, "left": null, "right": null } } }, "right": { "value": -835, "left": { "value": 609, "left": { "value": -966, "left": null, "right": null }, "right": { "value": -261, "left": null, "right": null } }, "right": { "value": -702, "left": { "value": 1000, "left": null, "right": null }, "right": { "value": 800, "left": null, "right": null } } } } } }, x: false },
		{ t: { "value": 759, "left": { "value": 948, "left": { "value": 10, "left": { "value": 227, "left": null, "right": { "value": -633, "left": { "value": 121, "left": { "value": 460, "left": { "value": 558, "left": { "value": 375, "left": { "value": 569, "left": { "value": -159, "left": null, "right": null }, "right": { "value": 723, "left": null, "right": null } }, "right": { "value": -563, "left": { "value": -577, "left": null, "right": null }, "right": { "value": -977, "left": null, "right": null } } }, "right": { "value": 766, "left": null, "right": null } }, "right": { "value": 325, "left": { "value": -637, "left": { "value": -576, "left": null, "right": { "value": 517, "left": null, "right": null } }, "right": { "value": -404, "left": { "value": 684, "left": null, "right": null }, "right": { "value": 847, "left": null, "right": null } } }, "right": { "value": -235, "left": { "value": 48, "left": { "value": 778, "left": null, "right": null }, "right": { "value": -789, "left": null, "right": null } }, "right": { "value": 186, "left": { "value": 338, "left": null, "right": null }, "right": { "value": -4, "left": null, "right": null } } } } }, "right": { "value": -707, "left": { "value": 767, "left": null, "right": { "value": 214, "left": { "value": -332, "left": { "value": -583, "left": null, "right": null }, "right": null }, "right": { "value": -560, "left": { "value": 296, "left": null, "right": null }, "right": { "value": 170, "left": null, "right": null } } } }, "right": { "value": 23, "left": { "value": -432, "left": null, "right": { "value": 655, "left": null, "right": { "value": 424, "left": null, "right": null } } }, "right": { "value": 979, "left": { "value": 752, "left": { "value": 560, "left": null, "right": null }, "right": null }, "right": { "value": 110, "left": { "value": 334, "left": null, "right": null }, "right": { "value": 350, "left": null, "right": null } } } } } }, "right": { "value": -196, "left": { "value": -721, "left": { "value": -393, "left": { "value": -201, "left": { "value": -91, "left": { "value": -941, "left": null, "right": null }, "right": { "value": 25, "left": null, "right": null } }, "right": { "value": 418, "left": { "value": 156, "left": null, "right": null }, "right": { "value": 336, "left": null, "right": null } } }, "right": { "value": -243, "left": null, "right": null } }, "right": { "value": -927, "left": { "value": -133, "left": { "value": -903, "left": { "value": -612, "left": null, "right": null }, "right": { "value": 746, "left": null, "right": null } }, "right": { "value": -4, "left": { "value": 871, "left": null, "right": null }, "right": { "value": -122, "left": null, "right": null } } }, "right": { "value": -960, "left": { "value": 990, "left": { "value": 61, "left": null, "right": null }, "right": null }, "right": { "value": -860, "left": { "value": 395, "left": null, "right": null }, "right": { "value": -798, "left": null, "right": null } } } } }, "right": { "value": -790, "left": { "value": 744, "left": { "value": -330, "left": { "value": -294, "left": { "value": 945, "left": null, "right": null }, "right": { "value": 354, "left": null, "right": null } }, "right": null }, "right": { "value": 627, "left": { "value": 486, "left": { "value": 674, "left": null, "right": null }, "right": { "value": 874, "left": null, "right": null } }, "right": { "value": -273, "left": { "value": 347, "left": null, "right": null }, "right": { "value": -665, "left": null, "right": null } } } }, "right": { "value": 844, "left": { "value": -172, "left": null, "right": { "value": 235, "left": { "value": 256, "left": null, "right": null }, "right": { "value": -501, "left": null, "right": null } } }, "right": { "value": 67, "left": { "value": 772, "left": { "value": -57, "left": null, "right": null }, "right": { "value": 186, "left": null, "right": null } }, "right": null } } } } } }, "right": { "value": 760, "left": { "value": 448, "left": { "value": -832, "left": { "value": 889, "left": { "value": 368, "left": { "value": 914, "left": { "value": -595, "left": { "value": -261, "left": null, "right": null }, "right": { "value": -864, "left": null, "right": null } }, "right": { "value": -686, "left": { "value": 320, "left": null, "right": null }, "right": { "value": 62, "left": null, "right": null } } }, "right": { "value": -438, "left": { "value": 556, "left": { "value": -270, "left": null, "right": null }, "right": { "value": 649, "left": null, "right": null } }, "right": { "value": -947, "left": { "value": -521, "left": null, "right": null }, "right": { "value": 818, "left": null, "right": null } } } }, "right": { "value": 580, "left": { "value": 15, "left": { "value": 871, "left": { "value": -561, "left": null, "right": null }, "right": null }, "right": { "value": -94, "left": { "value": -564, "left": null, "right": null }, "right": { "value": -409, "left": null, "right": null } } }, "right": { "value": 984, "left": { "value": -147, "left": { "value": 67, "left": null, "right": null }, "right": null }, "right": { "value": -689, "left": { "value": -952, "left": null, "right": null }, "right": { "value": 534, "left": null, "right": null } } } } }, "right": { "value": 411, "left": { "value": -425, "left": { "value": -797, "left": { "value": 515, "left": { "value": 692, "left": null, "right": null }, "right": { "value": -412, "left": null, "right": null } }, "right": { "value": -786, "left": null, "right": { "value": 969, "left": null, "right": null } } }, "right": { "value": 264, "left": { "value": 218, "left": { "value": -220, "left": null, "right": null }, "right": { "value": -245, "left": null, "right": null } }, "right": { "value": -845, "left": { "value": -77, "left": null, "right": null }, "right": { "value": 644, "left": null, "right": null } } } }, "right": { "value": 822, "left": { "value": 64, "left": { "value": 151, "left": { "value": -807, "left": null, "right": null }, "right": { "value": 13, "left": null, "right": null } }, "right": { "value": 74, "left": { "value": 867, "left": null, "right": null }, "right": null } }, "right": { "value": -570, "left": null, "right": { "value": -948, "left": { "value": 536, "left": null, "right": null }, "right": { "value": -321, "left": null, "right": null } } } } } }, "right": null }, "right": { "value": -595, "left": { "value": -147, "left": { "value": 974, "left": null, "right": { "value": -937, "left": { "value": -26, "left": { "value": 662, "left": { "value": -178, "left": null, "right": null }, "right": { "value": -244, "left": null, "right": null } }, "right": { "value": 433, "left": null, "right": { "value": 994, "left": null, "right": null } } }, "right": { "value": -160, "left": { "value": -100, "left": { "value": -296, "left": null, "right": null }, "right": { "value": 437, "left": null, "right": null } }, "right": { "value": 939, "left": { "value": 314, "left": null, "right": null }, "right": { "value": -682, "left": null, "right": null } } } } }, "right": null }, "right": { "value": -838, "left": { "value": 192, "left": null, "right": { "value": -943, "left": null, "right": null } }, "right": { "value": 194, "left": { "value": 215, "left": { "value": -718, "left": { "value": -230, "left": { "value": 408, "left": null, "right": null }, "right": { "value": -361, "left": null, "right": null } }, "right": { "value": 914, "left": { "value": -51, "left": null, "right": null }, "right": { "value": -890, "left": null, "right": null } } }, "right": { "value": -552, "left": { "value": 663, "left": { "value": -325, "left": null, "right": null }, "right": { "value": 411, "left": null, "right": null } }, "right": { "value": 941, "left": { "value": -996, "left": null, "right": null }, "right": { "value": -75, "left": null, "right": null } } } }, "right": { "value": -265, "left": { "value": -755, "left": { "value": -149, "left": { "value": -223, "left": null, "right": null }, "right": { "value": -30, "left": null, "right": null } }, "right": { "value": 487, "left": { "value": -329, "left": null, "right": null }, "right": null } }, "right": { "value": -213, "left": { "value": -757, "left": { "value": -662, "left": null, "right": null }, "right": { "value": -313, "left": null, "right": null } }, "right": { "value": 496, "left": { "value": 189, "left": null, "right": null }, "right": { "value": -337, "left": null, "right": null } } } } } } } } }, "right": { "value": 17, "left": { "value": 62, "left": { "value": -406, "left": { "value": -636, "left": null, "right": null }, "right": { "value": 945, "left": null, "right": { "value": -948, "left": { "value": -152, "left": null, "right": { "value": 318, "left": { "value": 832, "left": { "value": 806, "left": null, "right": null }, "right": { "value": -807, "left": null, "right": null } }, "right": { "value": 917, "left": { "value": 12, "left": null, "right": null }, "right": { "value": -859, "left": null, "right": null } } } }, "right": { "value": 510, "left": { "value": -73, "left": { "value": -662, "left": { "value": 338, "left": null, "right": null }, "right": { "value": 573, "left": null, "right": null } }, "right": { "value": -108, "left": { "value": 194, "left": null, "right": null }, "right": { "value": 734, "left": null, "right": null } } }, "right": { "value": 73, "left": { "value": 564, "left": { "value": 84, "left": null, "right": null }, "right": { "value": 424, "left": null, "right": null } }, "right": null } } } } }, "right": { "value": -528, "left": null, "right": { "value": -649, "left": { "value": -805, "left": null, "right": { "value": -487, "left": { "value": 953, "left": { "value": -428, "left": { "value": -758, "left": null, "right": null }, "right": { "value": -713, "left": null, "right": null } }, "right": { "value": -457, "left": { "value": 435, "left": null, "right": null }, "right": { "value": -869, "left": null, "right": null } } }, "right": { "value": 315, "left": { "value": -826, "left": { "value": -629, "left": null, "right": null }, "right": { "value": -960, "left": null, "right": null } }, "right": null } } }, "right": null } } }, "right": { "value": 779, "left": { "value": 81, "left": { "value": 260, "left": { "value": 956, "left": null, "right": { "value": 597, "left": { "value": -918, "left": { "value": 334, "left": { "value": -740, "left": null, "right": null }, "right": null }, "right": { "value": -474, "left": { "value": -804, "left": null, "right": null }, "right": { "value": -888, "left": null, "right": null } } }, "right": { "value": 951, "left": { "value": 90, "left": { "value": 982, "left": null, "right": null }, "right": { "value": 626, "left": null, "right": null } }, "right": null } } }, "right": { "value": -805, "left": { "value": -888, "left": { "value": -243, "left": { "value": -775, "left": { "value": 625, "left": null, "right": null }, "right": { "value": 609, "left": null, "right": null } }, "right": { "value": -294, "left": { "value": -67, "left": null, "right": null }, "right": { "value": 433, "left": null, "right": null } } }, "right": { "value": -32, "left": { "value": 843, "left": null, "right": { "value": 563, "left": null, "right": null } }, "right": { "value": 122, "left": null, "right": { "value": 437, "left": null, "right": null } } } }, "right": { "value": -157, "left": { "value": -915, "left": { "value": -665, "left": { "value": -221, "left": null, "right": null }, "right": { "value": 645, "left": null, "right": null } }, "right": { "value": -262, "left": { "value": -219, "left": null, "right": null }, "right": null } }, "right": { "value": -202, "left": { "value": 852, "left": { "value": 280, "left": null, "right": null }, "right": { "value": -394, "left": null, "right": null } }, "right": null } } } }, "right": { "value": 648, "left": { "value": -847, "left": { "value": 338, "left": { "value": -805, "left": { "value": -487, "left": { "value": 750, "left": null, "right": null }, "right": { "value": -874, "left": null, "right": null } }, "right": null }, "right": { "value": -880, "left": { "value": 838, "left": { "value": -690, "left": null, "right": null }, "right": { "value": -601, "left": null, "right": null } }, "right": { "value": -599, "left": { "value": -540, "left": null, "right": null }, "right": null } } }, "right": { "value": -695, "left": null, "right": { "value": 827, "left": { "value": 66, "left": { "value": -183, "left": null, "right": null }, "right": { "value": 895, "left": null, "right": null } }, "right": { "value": -813, "left": null, "right": { "value": -775, "left": null, "right": null } } } } }, "right": { "value": 808, "left": { "value": 865, "left": { "value": 951, "left": { "value": 55, "left": { "value": 302, "left": null, "right": null }, "right": { "value": 723, "left": null, "right": null } }, "right": { "value": -882, "left": null, "right": { "value": 458, "left": null, "right": null } } }, "right": { "value": 489, "left": { "value": -155, "left": { "value": -97, "left": null, "right": null }, "right": null }, "right": null } }, "right": null } } }, "right": { "value": 863, "left": { "value": -752, "left": { "value": 16, "left": { "value": 852, "left": { "value": 103, "left": { "value": 170, "left": { "value": 258, "left": null, "right": null }, "right": { "value": -732, "left": null, "right": null } }, "right": { "value": 164, "left": { "value": 312, "left": null, "right": null }, "right": { "value": -471, "left": null, "right": null } } }, "right": null }, "right": null }, "right": { "value": 514, "left": { "value": -662, "left": { "value": 692, "left": { "value": -957, "left": null, "right": { "value": 332, "left": null, "right": null } }, "right": { "value": 880, "left": { "value": 232, "left": null, "right": null }, "right": { "value": -139, "left": null, "right": null } } }, "right": { "value": -595, "left": { "value": 79, "left": { "value": -261, "left": null, "right": null }, "right": { "value": -463, "left": null, "right": null } }, "right": { "value": 718, "left": { "value": 674, "left": null, "right": null }, "right": { "value": 325, "left": null, "right": null } } } }, "right": { "value": 848, "left": { "value": -693, "left": { "value": 885, "left": { "value": 607, "left": null, "right": null }, "right": { "value": -71, "left": null, "right": null } }, "right": { "value": 891, "left": { "value": -181, "left": null, "right": null }, "right": { "value": 17, "left": null, "right": null } } }, "right": { "value": -975, "left": { "value": 501, "left": { "value": -874, "left": null, "right": null }, "right": { "value": -576, "left": null, "right": null } }, "right": { "value": -810, "left": { "value": -618, "left": null, "right": null }, "right": { "value": -158, "left": null, "right": null } } } } } }, "right": { "value": -378, "left": null, "right": { "value": -450, "left": { "value": 226, "left": { "value": 803, "left": { "value": -825, "left": { "value": -403, "left": null, "right": null }, "right": { "value": 539, "left": null, "right": null } }, "right": { "value": 10, "left": { "value": 604, "left": null, "right": null }, "right": { "value": 247, "left": null, "right": null } } }, "right": { "value": -486, "left": null, "right": { "value": 154, "left": { "value": -576, "left": null, "right": null }, "right": { "value": 570, "left": null, "right": null } } } }, "right": { "value": 588, "left": null, "right": { "value": -527, "left": { "value": -237, "left": { "value": 856, "left": null, "right": null }, "right": null }, "right": { "value": 792, "left": null, "right": { "value": 276, "left": null, "right": null } } } } } } } } } }, "right": { "value": 948, "left": { "value": 17, "left": { "value": 779, "left": { "value": 863, "left": { "value": -378, "left": { "value": -450, "left": { "value": 588, "left": { "value": -527, "left": { "value": 792, "left": { "value": 276, "left": null, "right": null }, "right": null }, "right": { "value": -237, "left": null, "right": { "value": 856, "left": null, "right": null } } }, "right": null }, "right": { "value": 226, "left": { "value": -486, "left": { "value": 154, "left": { "value": 570, "left": null, "right": null }, "right": { "value": -576, "left": null, "right": null } }, "right": null }, "right": { "value": 803, "left": { "value": 10, "left": { "value": 247, "left": null, "right": null }, "right": { "value": 604, "left": null, "right": null } }, "right": { "value": -825, "left": { "value": 539, "left": null, "right": null }, "right": { "value": -403, "left": null, "right": null } } } } }, "right": null }, "right": { "value": -752, "left": { "value": 514, "left": { "value": 848, "left": { "value": -975, "left": { "value": -810, "left": { "value": -158, "left": null, "right": null }, "right": { "value": -618, "left": null, "right": null } }, "right": { "value": 501, "left": { "value": -576, "left": null, "right": null }, "right": { "value": -874, "left": null, "right": null } } }, "right": { "value": -693, "left": { "value": 891, "left": { "value": 17, "left": null, "right": null }, "right": { "value": -181, "left": null, "right": null } }, "right": { "value": 885, "left": { "value": -71, "left": null, "right": null }, "right": { "value": 607, "left": null, "right": null } } } }, "right": { "value": -662, "left": { "value": -595, "left": { "value": 718, "left": { "value": 325, "left": null, "right": null }, "right": { "value": 674, "left": null, "right": null } }, "right": { "value": 79, "left": { "value": -463, "left": null, "right": null }, "right": { "value": -261, "left": null, "right": null } } }, "right": { "value": 692, "left": { "value": 880, "left": { "value": -139, "left": null, "right": null }, "right": { "value": 232, "left": null, "right": null } }, "right": { "value": -957, "left": { "value": 332, "left": null, "right": null }, "right": null } } } }, "right": { "value": 16, "left": null, "right": { "value": 852, "left": null, "right": { "value": 103, "left": { "value": 164, "left": { "value": -471, "left": null, "right": null }, "right": { "value": 312, "left": null, "right": null } }, "right": { "value": 170, "left": { "value": -732, "left": null, "right": null }, "right": { "value": 258, "left": null, "right": null } } } } } } }, "right": { "value": 81, "left": { "value": 648, "left": { "value": 808, "left": null, "right": { "value": 865, "left": { "value": 489, "left": null, "right": { "value": -155, "left": null, "right": { "value": -97, "left": null, "right": null } } }, "right": { "value": 951, "left": { "value": -882, "left": { "value": 458, "left": null, "right": null }, "right": null }, "right": { "value": 55, "left": { "value": 723, "left": null, "right": null }, "right": { "value": 302, "left": null, "right": null } } } } }, "right": { "value": -847, "left": { "value": -695, "left": { "value": 827, "left": { "value": -813, "left": { "value": -775, "left": null, "right": null }, "right": null }, "right": { "value": 66, "left": { "value": 895, "left": null, "right": null }, "right": { "value": -183, "left": null, "right": null } } }, "right": null }, "right": { "value": 338, "left": { "value": -880, "left": { "value": -599, "left": null, "right": { "value": -540, "left": null, "right": null } }, "right": { "value": 838, "left": { "value": -601, "left": null, "right": null }, "right": { "value": -690, "left": null, "right": null } } }, "right": { "value": -805, "left": null, "right": { "value": -487, "left": { "value": -874, "left": null, "right": null }, "right": { "value": 750, "left": null, "right": null } } } } } }, "right": { "value": 260, "left": { "value": -805, "left": { "value": -157, "left": { "value": -202, "left": null, "right": { "value": 852, "left": { "value": -394, "left": null, "right": null }, "right": { "value": 280, "left": null, "right": null } } }, "right": { "value": -915, "left": { "value": -262, "left": null, "right": { "value": -219, "left": null, "right": null } }, "right": { "value": -665, "left": { "value": 645, "left": null, "right": null }, "right": { "value": -221, "left": null, "right": null } } } }, "right": { "value": -888, "left": { "value": -32, "left": { "value": 122, "left": { "value": 437, "left": null, "right": null }, "right": null }, "right": { "value": 843, "left": { "value": 563, "left": null, "right": null }, "right": null } }, "right": { "value": -243, "left": { "value": -294, "left": { "value": 433, "left": null, "right": null }, "right": { "value": -67, "left": null, "right": null } }, "right": { "value": -775, "left": { "value": 609, "left": null, "right": null }, "right": { "value": 625, "left": null, "right": null } } } } }, "right": { "value": 956, "left": { "value": 597, "left": { "value": 951, "left": null, "right": { "value": 90, "left": { "value": 626, "left": null, "right": null }, "right": { "value": 982, "left": null, "right": null } } }, "right": { "value": -918, "left": { "value": -474, "left": { "value": -888, "left": null, "right": null }, "right": { "value": -804, "left": null, "right": null } }, "right": { "value": 334, "left": null, "right": { "value": -740, "left": null, "right": null } } } }, "right": null } } } }, "right": { "value": 62, "left": { "value": -528, "left": { "value": -649, "left": null, "right": { "value": -805, "left": { "value": -487, "left": { "value": 315, "left": null, "right": { "value": -826, "left": { "value": -960, "left": null, "right": null }, "right": { "value": -629, "left": null, "right": null } } }, "right": { "value": 953, "left": { "value": -457, "left": { "value": -869, "left": null, "right": null }, "right": { "value": 435, "left": null, "right": null } }, "right": { "value": -428, "left": { "value": -713, "left": null, "right": null }, "right": { "value": -758, "left": null, "right": null } } } }, "right": null } }, "right": null }, "right": { "value": -406, "left": { "value": 945, "left": { "value": -948, "left": { "value": 510, "left": { "value": 73, "left": null, "right": { "value": 564, "left": { "value": 424, "left": null, "right": null }, "right": { "value": 84, "left": null, "right": null } } }, "right": { "value": -73, "left": { "value": -108, "left": { "value": 734, "left": null, "right": null }, "right": { "value": 194, "left": null, "right": null } }, "right": { "value": -662, "left": { "value": 573, "left": null, "right": null }, "right": { "value": 338, "left": null, "right": null } } } }, "right": { "value": -152, "left": { "value": 318, "left": { "value": 917, "left": { "value": -859, "left": null, "right": null }, "right": { "value": 12, "left": null, "right": null } }, "right": { "value": 832, "left": { "value": -807, "left": null, "right": null }, "right": { "value": 806, "left": null, "right": null } } }, "right": null } }, "right": null }, "right": { "value": -636, "left": null, "right": null } } } }, "right": { "value": 10, "left": { "value": 760, "left": { "value": -595, "left": { "value": -838, "left": { "value": 194, "left": { "value": -265, "left": { "value": -213, "left": { "value": 496, "left": { "value": -337, "left": null, "right": null }, "right": { "value": 189, "left": null, "right": null } }, "right": { "value": -757, "left": { "value": -313, "left": null, "right": null }, "right": { "value": -662, "left": null, "right": null } } }, "right": { "value": -755, "left": { "value": 487, "left": null, "right": { "value": -329, "left": null, "right": null } }, "right": { "value": -149, "left": { "value": -30, "left": null, "right": null }, "right": { "value": -223, "left": null, "right": null } } } }, "right": { "value": 215, "left": { "value": -552, "left": { "value": 941, "left": { "value": -75, "left": null, "right": null }, "right": { "value": -996, "left": null, "right": null } }, "right": { "value": 663, "left": { "value": 411, "left": null, "right": null }, "right": { "value": -325, "left": null, "right": null } } }, "right": { "value": -718, "left": { "value": 914, "left": { "value": -890, "left": null, "right": null }, "right": { "value": -51, "left": null, "right": null } }, "right": { "value": -230, "left": { "value": -361, "left": null, "right": null }, "right": { "value": 408, "left": null, "right": null } } } } }, "right": { "value": 192, "left": { "value": -943, "left": null, "right": null }, "right": null } }, "right": { "value": -147, "left": null, "right": { "value": 974, "left": { "value": -937, "left": { "value": -160, "left": { "value": 939, "left": { "value": -682, "left": null, "right": null }, "right": { "value": 314, "left": null, "right": null } }, "right": { "value": -100, "left": { "value": 437, "left": null, "right": null }, "right": { "value": -296, "left": null, "right": null } } }, "right": { "value": -26, "left": { "value": 433, "left": { "value": 994, "left": null, "right": null }, "right": null }, "right": { "value": 662, "left": { "value": -244, "left": null, "right": null }, "right": { "value": -178, "left": null, "right": null } } } }, "right": null } } }, "right": { "value": 448, "left": null, "right": { "value": -832, "left": { "value": 411, "left": { "value": 822, "left": { "value": -570, "left": { "value": -948, "left": { "value": -321, "left": null, "right": null }, "right": { "value": 536, "left": null, "right": null } }, "right": null }, "right": { "value": 64, "left": { "value": 74, "left": null, "right": { "value": 867, "left": null, "right": null } }, "right": { "value": 151, "left": { "value": 13, "left": null, "right": null }, "right": { "value": -807, "left": null, "right": null } } } }, "right": { "value": -425, "left": { "value": 264, "left": { "value": -845, "left": { "value": 644, "left": null, "right": null }, "right": { "value": -77, "left": null, "right": null } }, "right": { "value": 218, "left": { "value": -245, "left": null, "right": null }, "right": { "value": -220, "left": null, "right": null } } }, "right": { "value": -797, "left": { "value": -786, "left": { "value": 969, "left": null, "right": null }, "right": null }, "right": { "value": 515, "left": { "value": -412, "left": null, "right": null }, "right": { "value": 692, "left": null, "right": null } } } } }, "right": { "value": 889, "left": { "value": 580, "left": { "value": 984, "left": { "value": -689, "left": { "value": 534, "left": null, "right": null }, "right": { "value": -952, "left": null, "right": null } }, "right": { "value": -147, "left": null, "right": { "value": 67, "left": null, "right": null } } }, "right": { "value": 15, "left": { "value": -94, "left": { "value": -409, "left": null, "right": null }, "right": { "value": -564, "left": null, "right": null } }, "right": { "value": 871, "left": null, "right": { "value": -561, "left": null, "right": null } } } }, "right": { "value": 368, "left": { "value": -438, "left": { "value": -947, "left": { "value": 818, "left": null, "right": null }, "right": { "value": -521, "left": null, "right": null } }, "right": { "value": 556, "left": { "value": 649, "left": null, "right": null }, "right": { "value": -270, "left": null, "right": null } } }, "right": { "value": 914, "left": { "value": -686, "left": { "value": 62, "left": null, "right": null }, "right": { "value": 320, "left": null, "right": null } }, "right": { "value": -595, "left": { "value": -864, "left": null, "right": null }, "right": { "value": -261, "left": null, "right": null } } } } } } } }, "right": { "value": 227, "left": { "value": -633, "left": { "value": -196, "left": { "value": -790, "left": { "value": 844, "left": { "value": 67, "left": null, "right": { "value": 772, "left": { "value": 186, "left": null, "right": null }, "right": { "value": -57, "left": null, "right": null } } }, "right": { "value": -172, "left": { "value": 235, "left": { "value": -501, "left": null, "right": null }, "right": { "value": 256, "left": null, "right": null } }, "right": null } }, "right": { "value": 744, "left": { "value": 627, "left": { "value": -273, "left": { "value": -665, "left": null, "right": null }, "right": { "value": 347, "left": null, "right": null } }, "right": { "value": 486, "left": { "value": 874, "left": null, "right": null }, "right": { "value": 674, "left": null, "right": null } } }, "right": { "value": -330, "left": null, "right": { "value": -294, "left": { "value": 354, "left": null, "right": null }, "right": { "value": 945, "left": null, "right": null } } } } }, "right": { "value": -721, "left": { "value": -927, "left": { "value": -960, "left": { "value": -860, "left": { "value": -798, "left": null, "right": null }, "right": { "value": 395, "left": null, "right": null } }, "right": { "value": 990, "left": null, "right": { "value": 61, "left": null, "right": null } } }, "right": { "value": -133, "left": { "value": -4, "left": { "value": -122, "left": null, "right": null }, "right": { "value": 871, "left": null, "right": null } }, "right": { "value": -903, "left": { "value": 746, "left": null, "right": null }, "right": { "value": -612, "left": null, "right": null } } } }, "right": { "value": -393, "left": { "value": -243, "left": null, "right": null }, "right": { "value": -201, "left": { "value": 418, "left": { "value": 336, "left": null, "right": null }, "right": { "value": 156, "left": null, "right": null } }, "right": { "value": -91, "left": { "value": 25, "left": null, "right": null }, "right": { "value": -941, "left": null, "right": null } } } } } }, "right": { "value": 121, "left": { "value": -707, "left": { "value": 23, "left": { "value": 979, "left": { "value": 110, "left": { "value": 350, "left": null, "right": null }, "right": { "value": 334, "left": null, "right": null } }, "right": { "value": 752, "left": null, "right": { "value": 560, "left": null, "right": null } } }, "right": { "value": -432, "left": { "value": 655, "left": { "value": 424, "left": null, "right": null }, "right": null }, "right": null } }, "right": { "value": 767, "left": { "value": 214, "left": { "value": -560, "left": { "value": 170, "left": null, "right": null }, "right": { "value": 296, "left": null, "right": null } }, "right": { "value": -332, "left": null, "right": { "value": -583, "left": null, "right": null } } }, "right": null } }, "right": { "value": 460, "left": { "value": 325, "left": { "value": -235, "left": { "value": 186, "left": { "value": -4, "left": null, "right": null }, "right": { "value": 338, "left": null, "right": null } }, "right": { "value": 48, "left": { "value": -789, "left": null, "right": null }, "right": { "value": 778, "left": null, "right": null } } }, "right": { "value": -637, "left": { "value": -404, "left": { "value": 847, "left": null, "right": null }, "right": { "value": 684, "left": null, "right": null } }, "right": { "value": -576, "left": { "value": 517, "left": null, "right": null }, "right": null } } }, "right": { "value": 558, "left": { "value": 766, "left": null, "right": null }, "right": { "value": 375, "left": { "value": -563, "left": { "value": -977, "left": null, "right": null }, "right": { "value": -577, "left": null, "right": null } }, "right": { "value": 569, "left": { "value": 723, "left": null, "right": null }, "right": { "value": -159, "left": null, "right": null } } } } } } }, "right": null } } } }, x: true },
  ].each do |x|
    it do
      expect(symmetric?(Tree.build_from(x[:t]))).to eql(x[:x])
    end
  end
end
